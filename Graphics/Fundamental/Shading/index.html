<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Shading | Vzer&#39;s Blog</title>
  <meta name="keywords" content="">
  <meta name="description" content="Shading | Vzer&#39;s Blog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="这里什么都没有…">
<meta property="og:type" content="website">
<meta property="og:title" content="about">
<meta property="og:url" content="http://example.com/about/index.html">
<meta property="og:site_name" content="Vzer&#39;s Blog">
<meta property="og:description" content="这里什么都没有…">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-05-24T10:38:54.000Z">
<meta property="article:modified_time" content="2022-05-24T11:10:58.509Z">
<meta property="article:author" content="Vzer">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 5.4.1"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>Vzer</span>
</div>

<div class="icon">
    
        
            <a title="github"
               href="https://github.com/vzerzz"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
    
        
            <a title="zhihu"
               href="https://www.zhihu.com/people/mo-sa-ran-yun-yu"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-zhihu"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="csdn"
               href="https://blog.csdn.net/gentleclown"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-csdn"></use>
                    </svg>
                
            </a>
        
    
</div>




<ul>
    <li>
        <div class="all active" data-rel="全部文章">全部文章
            
                <small>(49)</small>
            
        </div>
    </li>
    
        
            
                <li>
                    <div data-rel="CPlusPlus">
                        <i class="fold iconfont icon-right"></i>
                        
                        CPlusPlus
                        <small>(7)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="CPlusPlus<--->HouJie">
                                        
                                        HouJie
                                        
                                            <small>(5
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Graphics">
                        <i class="fold iconfont icon-right"></i>
                        
                        Graphics
                        <small>(18)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="Graphics<--->Fundamental">
                                        
                                        Fundamental
                                        
                                            <small>(11
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="Graphics<--->RTR">
                                        
                                        RTR
                                        
                                            <small>(7
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Projects">
                        
                        Projects
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Unity">
                        <i class="fold iconfont icon-right"></i>
                        
                        Unity
                        <small>(20)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="Unity<--->C#">
                                        
                                        C#
                                        
                                            <small>(4
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="Unity<--->DataPersistence">
                                        
                                        DataPersistence
                                        
                                            <small>(2
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="Unity<--->Frame">
                                        
                                        Frame
                                        
                                            <small>(6
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="Unity<--->Fundamental">
                                        
                                        Fundamental
                                        
                                            <small>(8
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Others">
                        
                        Others
                        <small>(3)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  site_url"
               
               href="/about">关于</a>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="49">
<input type="hidden" id="yelog_site_word_count" value="80.3k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
    </div>

</div>

    
    <div id="local-search-result">

    </div>
    
    <nav id="title-list-nav">
        
        
        <a  class="全部文章 CPlusPlus "
           href="/CPlusPlus/something/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="something">something</span>
            <span class="post-date" title="2023-02-01 00:00:00">2023/02/01</span>
        </a>
        
        
        <a  class="全部文章 Projects "
           href="/Projects/VZRenderer/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="VZRenderer">VZRenderer</span>
            <span class="post-date" title="2023-01-28 00:00:00">2023/01/28</span>
        </a>
        
        
        <a  class="全部文章 Graphics Fundamental "
           href="/Graphics/Fundamental/Quaternion/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Quaternion">Quaternion</span>
            <span class="post-date" title="2023-01-13 00:00:00">2023/01/13</span>
        </a>
        
        
        <a  class="全部文章 CPlusPlus HouJie "
           href="/CPlusPlus/HouJie/DesignPatterns/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Design Patterns">Design Patterns</span>
            <span class="post-date" title="2023-01-01 00:00:00">2023/01/01</span>
        </a>
        
        
        <a  class="全部文章 CPlusPlus HouJie "
           href="/CPlusPlus/HouJie/C++2.0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="C++2.0">C++2.0</span>
            <span class="post-date" title="2023-01-01 00:00:00">2023/01/01</span>
        </a>
        
        
        <a  class="全部文章 CPlusPlus HouJie "
           href="/CPlusPlus/HouJie/MemoryManagement/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="MemoryManagement">MemoryManagement</span>
            <span class="post-date" title="2023-01-01 00:00:00">2023/01/01</span>
        </a>
        
        
        <a  class="全部文章 CPlusPlus HouJie "
           href="/CPlusPlus/HouJie/STL/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="STL">STL</span>
            <span class="post-date" title="2023-01-01 00:00:00">2023/01/01</span>
        </a>
        
        
        <a  class="全部文章 CPlusPlus HouJie "
           href="/CPlusPlus/HouJie/OOP/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="OOP">OOP</span>
            <span class="post-date" title="2023-01-01 00:00:00">2023/01/01</span>
        </a>
        
        
        <a  class="全部文章 Graphics RTR "
           href="/Graphics/RTR/PracticalIndustrialSolutions/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="PracticalIndustrialSolutions">PracticalIndustrialSolutions</span>
            <span class="post-date" title="2022-12-05 00:00:00">2022/12/05</span>
        </a>
        
        
        <a  class="全部文章 Graphics RTR "
           href="/Graphics/RTR/GAMES202/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GAMES202">GAMES202</span>
            <span class="post-date" title="2022-12-01 00:00:00">2022/12/01</span>
        </a>
        
        
        <a  class="全部文章 Graphics RTR "
           href="/Graphics/RTR/RTRT/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="RTRT">RTRT</span>
            <span class="post-date" title="2022-11-24 00:00:00">2022/11/24</span>
        </a>
        
        
        <a  class="全部文章 Graphics RTR "
           href="/Graphics/RTR/PBR/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="PBR">PBR</span>
            <span class="post-date" title="2022-11-23 00:00:00">2022/11/23</span>
        </a>
        
        
        <a  class="全部文章 Graphics RTR "
           href="/Graphics/RTR/GlobalIllumination/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Global Illumination">Global Illumination</span>
            <span class="post-date" title="2022-11-20 00:00:00">2022/11/20</span>
        </a>
        
        
        <a  class="全部文章 Graphics RTR "
           href="/Graphics/RTR/EnvironmentMapping/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="IBL">IBL</span>
            <span class="post-date" title="2022-11-15 00:00:00">2022/11/15</span>
        </a>
        
        
        <a  class="全部文章 Graphics RTR "
           href="/Graphics/RTR/Shadows/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Shadows">Shadows</span>
            <span class="post-date" title="2022-11-03 00:00:00">2022/11/03</span>
        </a>
        
        
        <a  class="全部文章 Others "
           href="/Others/env/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="env">env</span>
            <span class="post-date" title="2022-10-30 00:00:00">2022/10/30</span>
        </a>
        
        
        <a  class="全部文章 Others "
           href="/Others/vim/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="vim">vim</span>
            <span class="post-date" title="2022-10-20 00:00:00">2022/10/20</span>
        </a>
        
        
        <a  class="全部文章 Graphics Fundamental "
           href="/Graphics/Fundamental/GAMES101/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GAMES101">GAMES101</span>
            <span class="post-date" title="2022-10-10 00:00:00">2022/10/10</span>
        </a>
        
        
        <a  class="全部文章 Graphics Fundamental "
           href="/Graphics/Fundamental/Animation/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Animation">Animation</span>
            <span class="post-date" title="2022-10-09 00:00:00">2022/10/09</span>
        </a>
        
        
        <a  class="全部文章 Graphics Fundamental "
           href="/Graphics/Fundamental/AdvancedTopics/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="AdvancedTopics">AdvancedTopics</span>
            <span class="post-date" title="2022-10-08 00:00:00">2022/10/08</span>
        </a>
        
        
        <a  class="全部文章 Graphics Fundamental "
           href="/Graphics/Fundamental/Camera/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Camera">Camera</span>
            <span class="post-date" title="2022-10-07 00:00:00">2022/10/07</span>
        </a>
        
        
        <a  class="全部文章 Graphics Fundamental "
           href="/Graphics/Fundamental/Materials/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Materials">Materials</span>
            <span class="post-date" title="2022-10-07 00:00:00">2022/10/07</span>
        </a>
        
        
        <a  class="全部文章 Graphics Fundamental "
           href="/Graphics/Fundamental/RayTracing/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="RayTracing">RayTracing</span>
            <span class="post-date" title="2022-09-29 00:00:00">2022/09/29</span>
        </a>
        
        
        <a  class="全部文章 Graphics Fundamental "
           href="/Graphics/Fundamental/Geometry/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Geometry">Geometry</span>
            <span class="post-date" title="2022-09-28 00:00:00">2022/09/28</span>
        </a>
        
        
        <a  class="全部文章 Graphics Fundamental "
           href="/Graphics/Fundamental/Shading/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Shading">Shading</span>
            <span class="post-date" title="2022-09-25 00:00:00">2022/09/25</span>
        </a>
        
        
        <a  class="全部文章 Others "
           href="/Others/Git/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Git">Git</span>
            <span class="post-date" title="2022-08-19 00:00:00">2022/08/19</span>
        </a>
        
        
        <a  class="全部文章 CPlusPlus "
           href="/CPlusPlus/Cherno/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Cherno">Cherno</span>
            <span class="post-date" title="2022-08-18 00:00:00">2022/08/18</span>
        </a>
        
        
        <a  class="全部文章 Graphics Fundamental "
           href="/Graphics/Fundamental/Rasterization/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Rasterization">Rasterization</span>
            <span class="post-date" title="2022-07-14 00:00:00">2022/07/14</span>
        </a>
        
        
        <a  class="全部文章 Graphics Fundamental "
           href="/Graphics/Fundamental/Transformation/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Transformation">Transformation</span>
            <span class="post-date" title="2022-07-14 00:00:00">2022/07/14</span>
        </a>
        
        
        <a  class="全部文章 Unity Frame "
           href="/Unity/Frame/UIFrame/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="UIFrame">UIFrame</span>
            <span class="post-date" title="2022-06-17 00:00:00">2022/06/17</span>
        </a>
        
        
        <a  class="全部文章 Unity C# "
           href="/Unity/Csharp/CsharpDesignPattern/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="C# 设计模式">C# 设计模式</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        
        <a  class="全部文章 Unity C# "
           href="/Unity/Csharp/CsharpFUNDAMENTAL/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="C# 语言基础">C# 语言基础</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        
        <a  class="全部文章 Unity C# "
           href="/Unity/Csharp/CsharpHL/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="C# 高级">C# 高级</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        
        <a  class="全部文章 Unity DataPersistence "
           href="/Unity/DataPersistence/SQLite/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SQLite">SQLite</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        
        <a  class="全部文章 Unity DataPersistence "
           href="/Unity/DataPersistence/Storage/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="数据存储">数据存储</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        
        <a  class="全部文章 Unity C# "
           href="/Unity/Csharp/CsharpOOP/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="C#面向对象">C#面向对象</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        
        <a  class="全部文章 Unity Frame "
           href="/Unity/Frame/FSM/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="FSM">FSM</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        
        <a  class="全部文章 Unity Frame "
           href="/Unity/Frame/AssetBundle/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="AssetBundle">AssetBundle</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        
        <a  class="全部文章 Unity Frame "
           href="/Unity/Frame/AStarPathFinding/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="AStarPathFinding">AStarPathFinding</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        
        <a  class="全部文章 Unity Frame "
           href="/Unity/Frame/Photon/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Photon">Photon</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        
        <a  class="全部文章 Unity Frame "
           href="/Unity/Frame/xLua/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="xLua">xLua</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        
        <a  class="全部文章 Unity Fundamental "
           href="/Unity/UnityFundamental/Animation/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="动画系统">动画系统</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        
        <a  class="全部文章 Unity Fundamental "
           href="/Unity/UnityFundamental/Base/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="初识">初识</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        
        <a  class="全部文章 Unity Fundamental "
           href="/Unity/UnityFundamental/Coroutine/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="协程">协程</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        
        <a  class="全部文章 Unity Fundamental "
           href="/Unity/UnityFundamental/Effects/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="特效系统">特效系统</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        
        <a  class="全部文章 Unity Fundamental "
           href="/Unity/UnityFundamental/Navigation/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="导航系统">导航系统</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        
        <a  class="全部文章 Unity Fundamental "
           href="/Unity/UnityFundamental/Physics/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="物理系统">物理系统</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        
        <a  class="全部文章 Unity Fundamental "
           href="/Unity/UnityFundamental/UGUI/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="UGUI">UGUI</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        
        <a  class="全部文章 Unity Fundamental "
           href="/Unity/UnityFundamental/WWW/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="WWW">WWW</span>
            <span class="post-date" title="2022-01-01 00:00:00">2022/01/01</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-Graphics/Fundamental/Shading" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Shading</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="Graphics">Graphics</a> > 
            
            <a  data-rel="Graphics&lt;---&gt;Fundamental">Fundamental</a>
            
        </span>
        
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2023-01-16 06:17:31'>2022-09-25 00:00</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:3.3k</span>
        
        
        
        <span class="top-comment" title="跳转至评论区">
            <a href="#comments">
                评论:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Shading"><span class="toc-text">Shading</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#A-Simple-Shading-Model-Blinn-Phong-Reflectance-Model"><span class="toc-text">A Simple Shading Model (Blinn-Phong Reflectance Model)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Shading-Frequencies"><span class="toc-text">Shading Frequencies</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Graphics-Real-time-Rendering-Pipeline-%E5%9B%BE%E5%BD%A2%E7%AE%A1%E7%BA%BF"><span class="toc-text">Graphics (Real-time Rendering) Pipeline 图形管线</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Texture-Mapping-%E7%BA%B9%E7%90%86%E6%98%A0%E5%B0%84"><span class="toc-text">Texture Mapping 纹理映射</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Barycentric-coordinates-%E9%87%8D%E5%BF%83%E5%9D%90%E6%A0%87"><span class="toc-text">Barycentric coordinates 重心坐标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Applying-Textures"><span class="toc-text">Applying Textures</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BA%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-text">出现的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Applications-of-textures"><span class="toc-text">Applications of textures</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Normal-Maps"><span class="toc-text">Normal Maps</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Environment-Map"><span class="toc-text">Environment Map</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Bump-Mapping-%E5%87%B9%E5%87%B8%E8%B4%B4%E5%9B%BE"><span class="toc-text">Bump Mapping 凹凸贴图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Displacement-mapping-%E4%BD%8D%E7%A7%BB%E8%B4%B4%E5%9B%BE"><span class="toc-text">Displacement mapping 位移贴图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Shadow-Mapping-%E9%98%B4%E5%BD%B1%E8%B4%B4%E5%9B%BE"><span class="toc-text">Shadow Mapping 阴影贴图</span></a></li></ol></li></ol></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Shading"><a href="#Shading" class="headerlink" title="Shading"></a>Shading</h1><p>着色 引入明暗和颜色的不同 对不同物体应用不同材质  </p>
<h2 id="A-Simple-Shading-Model-Blinn-Phong-Reflectance-Model"><a href="#A-Simple-Shading-Model-Blinn-Phong-Reflectance-Model" class="headerlink" title="A Simple Shading Model (Blinn-Phong Reflectance Model)"></a>A Simple Shading Model (Blinn-Phong Reflectance Model)</h2><p><img src="/Graphics/Fundamental/Shading/shadingpoint.png" alt="shadingpoint"></p>
<p>shading是局部的，只考虑光源的影响 不考虑其它物体的存在 是对每个点而言的</p>
<ul>
<li>Diffuse Reflection漫反射</li>
</ul>
<p>Lambert漫反射模型<br>光真正接受的是光照进来的法线分量 $\cos \theta = l \cdot n$ (l,n均为单位向量)</p>
<p>光源到距离为r的shading point的强度I变为$\frac{I}{r^2}$</p>
<p>$L_d = k_d(\frac{I}{r^2})\max(0,n \cdot l)$</p>
<p>$L_d$是漫反射的光  $k_d$指的是漫反射的系数，为1则全部反射，为0则全部吸收 max是为了剔除夹角大于90°的光</p>
<ul>
<li>Specular Term 高光项<br>Phong反射模型<br><img src="/Graphics/Fundamental/Shading/specular.png" alt="specular"></li>
</ul>
<p>V close to mirror direction当视线和入射的镜面反射接近时 &lt;=&gt; half vector near normal 半程向量h和法线接近(点乘为0)<br>Blinn-Phong反射模型<br>$L_s = k_s(\frac{I}{r^2})\max(0,n \cdot h)^p$<br>$h = \frac{v + l}{\big\lvert \lvert v + l \rvert \big\rvert}$<br>$k_s$为镜面反射系数<br>本来要考虑多少入射被吸收(l·n) 但被简化<br>但只用夹角余弦太宽泛所以要有系数p p控制高光的大小 需要一个指数p加速衰减</p>
<ul>
<li>Ambient Term 环境光</li>
</ul>
<p><img src="/Graphics/Fundamental/Shading/ambient.png" alt="ambient"></p>
<p>假设认为环境光都是相同的 确保没有地方是黑的 精确要全局光照的知识</p>
<p>$L_a = k_aI_a$</p>
<p><img src="/Graphics/Fundamental/Shading/blinnphong.png" alt="blinnphong">  </p>
<p>$L = L_a + L_d + L_s = k_aI_a + k_d(\frac{I}{r^2})\max(0,n \cdot l) + k_s(\frac{I}{r^2})\max(0,n \cdot h)^p$</p>
<h2 id="Shading-Frequencies"><a href="#Shading-Frequencies" class="headerlink" title="Shading Frequencies"></a>Shading Frequencies</h2><p>之前是着色的方法/模型 现在是着色的频率  </p>
<ul>
<li><p>Flat shading 平面着色<br>求三角形法线 逐面<br>计算很快 很明显的看到一块块面形状  </p>
</li>
<li><p>Gouraud shading<br>求顶点的法线，对顶点着色，三角形内部通过差值算出<br>法线:顶点关联的面的法线的平均(或加权)再标准化 (不精确<br>(按理来说Gouraud用的是双线性插值)  </p>
</li>
<li><p>Phong shading<br>逐像素 像素法线由顶点法线重心插值</p>
</li>
</ul>
<p>几何模型相对复杂(面密度大)时shading频率可以小一些  </p>
<h2 id="Graphics-Real-time-Rendering-Pipeline-图形管线"><a href="#Graphics-Real-time-Rendering-Pipeline-图形管线" class="headerlink" title="Graphics (Real-time Rendering) Pipeline 图形管线"></a>Graphics (Real-time Rendering) Pipeline 图形管线</h2><p><img src="/Graphics/Fundamental/Shading/pipeline.png" alt="pipeline"></p>
<p>顶点处理 -&gt; 三角形处理 -&gt; 光栅化 -&gt; 片元处理 -&gt; 逐片元操作<br>其中，Vertex和Fragment阶段是可编程的<br>GPUs：可并行的图形管线处理器  </p>
<ul>
<li>Vertex Processing 顶点处理: 对所有顶点MVP变换 得到二维平面坐标(zbuffer的z值)  </li>
<li>Triangle Processing 三角形处理: 所有的顶点按照原几何信息，变成三角面  </li>
<li>Rasterization 光栅化  </li>
<li>Fragment Processing 片元处理(片元可能比像素更小 如MSAA采样点):<br>  进行shading<br>  此时Vertex Processing也会处理(需要顶点信息对三角形内的点属性插值/Gouraud shading中顶点处理阶段就算出每个顶点的颜色值)<br>  可以去做texture mapping，利用texture的信息来代替blinn-phong模型漫反射系数来当作颜色  </li>
<li>Framebuffer Operations<br>  zbuffer 处理遮挡关系 将所有的像素颜色信息整合在一起，输送给显示设备显示  </li>
</ul>
<pre><code>shader 自行编程控制顶点和像素(片元)如何进行着色代替原来固定的顶点处理和片元处理 GLSL  
</code></pre><h2 id="Texture-Mapping-纹理映射"><a href="#Texture-Mapping-纹理映射" class="headerlink" title="Texture Mapping 纹理映射"></a>Texture Mapping 纹理映射</h2><p>定义任何一个点着色时的属性  </p>
<p>将三维物体上的任意一个点都映射到一个二维平面之上  </p>
<p>只需要将每个点的颜色信息即漫反射系数存储在二维的Texture纹理之上  </p>
<p>纹理上有坐标u-v映射到三角形上 u，v在(0,1)内  </p>
<p>只需要在三维world space中每个顶点的信息之中存储下该顶点在texture space的(u,v)坐标信息  </p>
<p>特殊的纹理tile 重复拼接之后上下左右都是连续的 可以复制很多张贴</p>
<h3 id="Barycentric-coordinates-重心坐标"><a href="#Barycentric-coordinates-重心坐标" class="headerlink" title="Barycentric coordinates 重心坐标"></a>Barycentric coordinates 重心坐标</h3><p>Interpolation Across Triangles<br>对于三角形所在平面上的任意一点的坐标，都可以用三角形的三个顶点坐标的线性表达式表<br>示(和重心区别)  </p>
<script type="math/tex; mode=display">
(x,y) = \alpha A + \beta B + \gamma C\\
\alpha + \beta + \gamma = 1\\
三个系数也可用点所对三角形的面积表示\\
\alpha = \frac{S_A}{S_A+S_B+S_C}\\
\beta = \frac{S_B}{S_A+S_B+S_C}\\
\gamma = \frac{S_C}{S_A+S_B+S_C}\\</script><p>展开得<br><img src="/Graphics/Fundamental/Shading/barycentric.png" alt="barycentric"></p>
<p><img src="/Graphics/Fundamental/Shading/Barycentric%20Coordinates.png" alt="Barycentric Coordinates"></p>
<p>另一种视角:<br><img src="/Graphics/Fundamental/Shading/barycentric2.png" alt="barycentric2"><br>$p=a + \beta(b-a) + \gamma(c-a) = (1-\beta - \gamma)a + \beta b+ \gamma c$</p>
<p>重心坐标最重要的运用便是插值 无论是位置，颜色，深度，法线向量等等  </p>
<p>投影后的重心坐标会改变 所以三维空间中的属性在三维空间中做插值再投影(如深度)  </p>
<p>重心坐标一定要是原世界坐标空间中的重心坐标，但实际计算中一般会使用投影之后的二维平面来计算重心坐标(重心坐标往往都是在屏幕空间下所得到的)，存在着一个误差需要校正  </p>
<p>重心坐标任意属性的正确插值:  </p>
<blockquote>
<p>Z为世界坐标中的深度值 其它为屏幕坐标所得</p>
<script type="math/tex; mode=display">
I_t = (\alpha \frac{I_A}{Z_A} + \beta \frac{I_B}{Z_B} + \gamma \frac{I_C}{Z_C}) * \frac{1}{(\frac{\alpha}{Z_A} + \frac{\beta}{Z_B} + \frac{\gamma}{Z_C})}</script><p>推导:<br><a target="_blank" rel="noopener" href="https://www.zhihu.com/column/c_1249465121615204352">https://www.zhihu.com/column/c_1249465121615204352</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/403259571">https://zhuanlan.zhihu.com/p/403259571</a></p>
</blockquote>
<h3 id="Applying-Textures"><a href="#Applying-Textures" class="headerlink" title="Applying Textures"></a>Applying Textures</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> each rasterized screen <span class="title function_">sample</span> <span class="params">(x,y)</span>:</span><br><span class="line">    <span class="params">(u,v)</span> = evaluate texture coordinate <span class="title function_">at</span> <span class="params">(x,y)</span></span><br><span class="line">    texcolor = texture.sample(u,v);</span><br><span class="line">    <span class="built_in">set</span> sample<span class="number">&#x27;</span>s color to texcolor;</span><br></pre></td></tr></table></figure>
<h3 id="出现的问题"><a href="#出现的问题" class="headerlink" title="出现的问题"></a>出现的问题</h3><p>A pixel on a texture — a texel (纹理元素、纹素 纹理上的像素)<br>pixel是投影在屏幕上的 texel是贴在三维图形上的  </p>
<ul>
<li><p>纹理太小</p>
<p>  把一张100x100的纹理贴图应用在一500x500的屏幕之上必然会导致走样失真<br>  屏幕空间的几个像素点对应在纹理贴图的坐标上都是集中在一个像素大小之内<br>  多个pixel映射到了同一个texel  </p>
<p>  Texture Magnification 纹理放大  </p>
<ul>
<li>Bilinear Interpolation 双线性插值<br>  对非整数的纹理值取四个相邻的采样点 水平+竖直做两次插值，即双线性插值 Lerp<br>  <img src="/Graphics/Fundamental/Shading/Bilinear%20Interpolation.png" alt="Bilinear Interpolation"></li>
<li>对周围16个点做三次插值，双三次插值 Bicubic，运算量更大，结果更好  </li>
</ul>
</li>
<li><p>纹理太大<br>  纹理贴图大小500x500，屏幕空间100x100，将屏幕空间的像素点均匀分布在纹理空间之中，那么1个屏幕空间像素点所占的平均大小就是5x5=25个纹理空间像素<br>  用一个点采样的结果代替纹理空间一片范围的颜色信息，必然会导致严重失真！(采样频率过低无法还原信号原貌)<br>  一个pixel对应了多个texel<br>  近处锯齿远处摩尔纹<br>  Supersampling超采样可以解决但计算量太大<br>  <img src="/Graphics/Fundamental/Shading/footprint.png" alt="footprint"><br>  <strong>Mipmap</strong><br>  一个采样点的颜色信息不足以代表footprint里一个区域的颜色信息，可以求出这样一个区域里面所有颜色的均值<br>  从 <em>点查询Point Query</em> 迈向 <em>范围查询Range Query</em> (仅取正方形的范围)<br>  多级渐远纹理 一系列的纹理图像，后一个纹理图像的分辨率是前一个的二分之一 再选择最适合像素大小的一个<br>  <img src="/Graphics/Fundamental/Shading/mipmap2.png" alt="mipmap"><br>  多余存储空间为1/3<br>  <img src="/Graphics/Fundamental/Shading/Mipmap.png" alt="Mipmap"><br>  <img src="/Graphics/Fundamental/Shading/Computing%20Mipmap%20Level.png" alt="Computing Mipmap Level"><br>  由相邻像素点(取当前像素点的右方和上方的两个相邻像素点)转换到纹理空间后求在Texture space的距离取最大值, level D = log2L 从多个纹理图像中选最合适的  </p>
<p>  若D非2的整数倍:<br>  四舍五入 or 利用D值在向下和向上取整的两个不同level进行三线性插值<br>  <img src="/Graphics/Fundamental/Shading/trilinearinterpolation.png" alt="trilinearinterpolation"><br>  三线性插值，就是在向下取整的D level上进行一次双线性插值(前文提过)，再在D+1 level之上进行一次双线性插值，这二者数据再根据实际的连续D值在向下和向上取整的两个不同level之间的比例，再来一次线性插值  </p>
<p>  对于在纹理上一个像素方块形成不规则的形状(远处很模糊):  </p>
<ul>
<li>Anisotropic Filtering各向异性过滤 可以处理矩形的形状<br>准备不同级别的纹理贴图时，不再是简简单单横纵纹素各减小一半进行分<br>级，而是长减半宽不变 or 宽减半长不变 or 长和宽各减半三种情况各进行一次分级<br>多余存储空间为3倍 算出水平方向的level D1，再算一个竖直方向的level D1，然后算根据这两个level去各项异性过滤的texture里面找一张最合适的  </li>
<li>EWA filtering  使用很多的圆形来覆盖不规则区域,通过多次查询来覆盖对应区域<br><img src="/Graphics/Fundamental/Shading/Anisotropic%20Filtering.png" alt="Anisotropic Filtering">  </li>
</ul>
</li>
</ul>
<h3 id="Applications-of-textures"><a href="#Applications-of-textures" class="headerlink" title="Applications of textures"></a>Applications of textures</h3><p>纹理可理解为一块数据用于不同类型的查询</p>
<h4 id="Normal-Maps"><a href="#Normal-Maps" class="headerlink" title="Normal Maps"></a>Normal Maps</h4><ul>
<li><p>存储object space下的法线向量坐标<br>  一但该法线向量的三角形面发生了变形(如人物模型在做各种动画)，该法线向量就不再正确  </p>
</li>
<li><p>存储切线空间之中的法线向量坐标<br>切线空间（tbn）tangant轴（t）、bitangent轴（b）及法线轴（N）所组成的坐标系 z轴由原来该面上的几何法线n构成 x，y轴分别由该面所对应的贴图上U,V增加的两个方向构成<br>真正存储的时候只需要t 和 n即可，第三轴可以直接叉乘得到。并且将t和n作为顶点的属性进行存储<br>详解: <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/139593847">https://zhuanlan.zhihu.com/p/139593847</a></p>
</li>
</ul>
<h4 id="Environment-Map"><a href="#Environment-Map" class="headerlink" title="Environment Map"></a>Environment Map</h4><p>假设光源无限远，只记录光照的方向信息，这种贴图被称作环境光贴图<br>Spherical Environment Map 环境光信息描述在球面纹理上(上方和下方均有较为严重的扭曲)<br>利用观察方向相对于法线的反射方向去查询环境映射的颜色值<br>Cube Map 天空盒 但会需要额外判断某一方向上的光照应该记录在立方体的哪个面上，<br>计算量更大<br><img src="/Graphics/Fundamental/Shading/cubemap.png" alt="cubemap">  </p>
<p>Textures can affect shading 凹凸贴图 法线贴图 改变法线方向 给人凹凸的效果  </p>
<h4 id="Bump-Mapping-凹凸贴图"><a href="#Bump-Mapping-凹凸贴图" class="headerlink" title="Bump Mapping 凹凸贴图"></a>Bump Mapping 凹凸贴图</h4><p>Normal Maps直接存储了法线信息，而Bump Maps存储的是该点逻辑上(物理上没有)的相对高度(可为负值)，该高度的变化实际上表现了物体表面凹凸不平的特质，利用该高度信息，再计算出该点法线向量，最后再利用该法线计算光照 多了从height到normal向量<br>由切线算法线<br><img src="/Graphics/Fundamental/Shading/bumpmapping2d.png" alt="bumpmapping2d">  </p>
<blockquote>
<p>p点原来的法线朝上，即n(p) = (0, 1)<br>上图蓝色曲线为使用法线贴图后的效果<br>通过dp = (c[h(p+1) - h(p)])求出两点的高度差。其中c为常数表示凹凸贴图的影响程度，h为p点、p+1点对应高度<br>因此切线可表示为(1,dp)<br>切线与法线为垂直的关系因此n(p) = (-dp, 1)  </p>
</blockquote>
<p><img src="/Graphics/Fundamental/Shading/bumpmapping3d.png" alt="bumpmapping3d"><br>所有计算出来的法线都是局部坐标即切线空间之下，因此还需要左乘[t b n]矩阵转到(世界)相机坐标系之下得到正确法向  </p>
<h4 id="Displacement-mapping-位移贴图"><a href="#Displacement-mapping-位移贴图" class="headerlink" title="Displacement mapping 位移贴图"></a>Displacement mapping 位移贴图</h4><p>和上一个相比改变了几何 去对模型的顶点做位移  </p>
<h4 id="Shadow-Mapping-阴影贴图"><a href="#Shadow-Mapping-阴影贴图" class="headerlink" title="Shadow Mapping 阴影贴图"></a>Shadow Mapping 阴影贴图</h4><p><strong><em>阴影 =&gt; 摄像机能看到的地方，光源看不见</em></strong>  </p>
<ol>
<li>把光源当做一个摄像机去渲染整个场景从而得到从光源视角的深度Buffer，记为dmap(ShadowMap)<br> <img src="/Graphics/Fundamental/Shading/shadowmap1.png" alt="shadowmap1">  </li>
<li>从设定好的摄像机位置去真正的渲染场景<br> <img src="/Graphics/Fundamental/Shading/shadowmap2.png" alt="shadowmap2">  </li>
<li>将所有摄像机视角可见点，利用光源视角下的那一套投影矩阵，重新投影回光源，得到光源视角下的屏幕坐标，找到该屏幕坐标在dmap上的深度值  <ul>
<li>如果和投影回光源的点的实际深度值相等，则说明此点可被光源照射，不在阴影中  </li>
<li>如果小于投影回光源的点的实际深度值，则说明此点不可被光源看见，即该点前方有物体遮挡，在阴影中<br><img src="/Graphics/Fundamental/Shading/shadowmap3.png" alt="shadowmap3">  </li>
</ul>
</li>
</ol>
<p>如果在阴影之中就不去计算Blinn-Phong中的镜面反射项与漫反射项  </p>
<ul>
<li>细节:  <ol>
<li>浮点数难以判断相等，所以一般会有一个tolerance</li>
<li>shadow maps查询时不采用双线性插值，只寻找最近的点，因为倘若插值发生在物体边缘时，与邻接点的深度差距很大，会导致插值结果会有很大的误差</li>
<li>属于硬阴影(棱角分明)，只适用于点光源 软阴影为光源具有体积，导致，不同地方看到光源的比例不同  </li>
<li>渲染出来的阴影比较脏<br>原因：深度值的比较位浮点数比较，而判断浮点数相等势必会产生误差，虽然处理精度的方法有很多种，但并不能从本质上解决问题  </li>
<li>走样<br>原因：本身储存的深度图存在分辨率限制，与渲染时的分辨率搭配不好的话，就会产生走样  </li>
</ol>
</li>
</ul>

      
       
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>




    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: '3fa7e95b351aa27f85ca',
            clientSecret: '8b72dabd6ae2e97f256942498eb4d306fe96c4e7',
            repo: 'vzerzz.github.io',
            owner: 'vzerzz',
            admin: ['vzerzz'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('10',10)
        })
        gitalk.render('comments')
    })
</script>




    
        <!-- MathJax配置，可通过单美元符号书写行内公式等 -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
        preferredFont: "TeX",
        availableFonts: ["STIX","TeX"],
        linebreaks: { automatic:true },
        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
        inlineMath: [ ["$", "$"], ["\\(","\\)"] ],
        processEscapes: true,
        ignoreClass: "tex2jax_ignore|dno",
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        equationNumbers: { autoNumber: "AMS" },
        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
        Macros: { href: "{}" }
    },
    messageStyle: "none"
    });
</script>
<!-- 给MathJax元素添加has-jax class -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<!-- 通过连接CDN加载MathJax的js代码 -->
<script type="text/javascript" async
        src="//cdn.jsdelivr.net/npm/mathjax@2.7.8/unpacked/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<input type="hidden" id="MathJax-js"
        value="//cdn.jsdelivr.net/npm/mathjax@2.7.8/unpacked/MathJax.js?config=TeX-MML-AM_CHTML">
</input>
    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2023 Vzer
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.3;
        background: url("/img/list-background.jpg");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
</style>







</html>
